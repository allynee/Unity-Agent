Instruction:
If a table is in view, position the lamp at the center on top of the table

Category:
Edit position

Code:
public void PlaceLampOnTableInView()
  {
  // Check if the lamp exists before trying to move it
  if (lamp == null) 
  {
  Debug.LogError("Lamp doesn't exist. Create it first before trying to move it.");
  return;
  }
 

  // Get all objects in the user's field of view
  List<Object3D> objectsInView = GetAllObject3DsInFieldOfView();
 

  // Find the first table in the user's field of view
  Object3D table = objectsInView.Find(obj => obj.GetType().Equals("Table"));
 

  if (table != null)
  { 
  Debug.Log("Found a table to put the lamp on!");
  // Get the position and size of the table
  Vector3D tablePosition = table.GetPosition();
  Vector3D tableSize = table.GetSize();
  float tableHeight = tableSize.y;
 

  // Get the size of the lamp
  Vector3D lampSize = lamp.GetSize();
  float lampHeight = lampSize.y;
 

  Vector3D lampPosition = new Vector3D(tablePosition.x, tablePosition.y + tableHeight, tablePosition.z); 
  Debug.Log("Lamp position: " + lampPosition.x + ", " + lampPosition.y + ", " + lampPosition.z);
 

  // Set the new position for the lamp
  lamp.SetPosition(lampPosition);
  }
  else
  {
  Debug.LogWarning("No table found in the user's field of view.");
  }
  }